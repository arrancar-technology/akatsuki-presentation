extends ../layouts/admin
block content
  div(ng-controller="OrdersController")
    .blurb
      .birth.col-md-offset-2.col-md-8
        h1 Orders
        .row
          .col-md-6: h4 Birth
          .col-md-6
            .btn-group.pull-right
              button.btn.btn-info(type='button', ng-click='model.lists.birth.filter = "received"') Received
              button.btn.btn-warning(type='button', ng-click='model.lists.birth.filter = "processing"') Processing
              button.btn.btn-success(type='button', ng-click='model.lists.birth.filter = "done"') Done
        .row
          table.table.table-hover.table-condensed
            tr
              td: strong #
              td: strong First Name
              td: strong Last Name
              td: strong Email
              td: strong Phone
              td: strong Status
              td: strong.pull-right Details
            tr(ng-repeat="order in model.orders | filter: {certificate.type: 'birth', status: model.lists.birth.filter}")
              td {{$index+1}}
              td: span {{ order.firstName || '--' }}
              td: span {{ order.lastName || '--' }}
              td: span {{ order.email || '--' }}
              td: span {{ order.address.phone || '--' }}
              td: span {{ order.status || '--' }}
              td
                .buttons.pull-right
                  button.btn.btn-primary(data-toggle='modal', data-target='.bs-modal-lg', ng-click="selectOrder(order._id)") Details

      .marriage.col-md-offset-2.col-md-8
        h4 Marriage
        table.table
          tr
            th
          tr(ng-repeat="order in model.orders | filter: {certificate.type: 'marriage'}")
            td {{order.certificate.firstName}}

      .death.col-md-offset-2.col-md-8
        h4 Death
        table.table
          tr
            th
          tr(ng-repeat="order in model.orders | filter: {certificate.type: 'death'}")
            td {{order.certificate.firstName}}

      include ../templates/admin/modal_edit_order_birth